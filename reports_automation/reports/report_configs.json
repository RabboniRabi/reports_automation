{
    "report_configs": [
      {
        "report_name": "PET_school_mapping",
        "report_code" : "PET",
        "report_category": "Attendance",
        "report_desc": "PET to school mapping report",
        "generate_report": true,
        "source_config" : {
            "query_file_name" : "students_school_child_count.sql",
            "source_file_name" : "Pet-to-school-Mapping-Rpt.xlsx",
            "source_sheet_name" : "Report",
            "skip_rows" : 4
        },
        "pre_process_brc_merge": false,
        "brc_merge_config" : {
            "join_on" : ["cols.district_name", "cols.block_name", "cols.school_name", "cols.school_category", "cols.udise_col"],
            "merge_type" : "left"
        },
        "post_process_brc_merge" : false,
        "elementary_report" : {
            "generate_report": true,
            "grouping_cols" : ["cols.deo_name"],
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.ageing": "sum", 
                    "cols.total_cp_students": "sum"
                },
                "ranking_val_desc": "cols.perc_ageing",
                "num_col": "cols.ageing",
                "den_col": "cols.total_cp_students",
                "sort": "True",
                "ascending": "True"
            }
        },
        "secondary_report" : {
            "generate_report": false,
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.ageing": "sum", 
                    "cols.total_cp_students": "sum"
                },
                "ranking_val_desc": "cols.perc_ageing",
                "num_col": "cols.ageing",
                "den_col": "cols.total_cp_students",
                "sort": true,
                "ascending": true
            },
            "subtotal_outlines_dict" : {
                "level_subtotal_cols_dict" : {"1" : "cols.deo_name_sec"},
                "agg_cols_func_dict" : {
                    "cols.fully_mapped": "sum",
                    "cols.part_mapped": "sum",
                    "cols.tot_schools": "sum",
                    "cols.deo_sec_rank": "mean"
                },
                "text_append_dict" : {"cols.deo_name_sec": "Total"}
            },
            "format_dict" : {
                "conditional_format" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format": {"type": "3_color_scale"}
                },
                "format_cells" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format" : {"num_format": "0.00%"}

            }
        }
        
      }
    },
    {
        "report_name": "cwsn",
        "report_code" : "CWSN",
        "report_category": "Enrolment",
        "report_desc": "CWSN CEO report",
        "generate_report": true,
        "source_config" : {
            "source_file_name" : "CWSN-Report.xlsx",
            "source_sheet_name" : "Report",
            "skip_rows" : 4
        },
        "pre_process_brc_merge": true,
        "brc_merge_config" : {
            "join_on" : ["cols.district_name", "cols.block_name", "cols.school_name", "cols.school_category", "cols.udise_col"],
            "merge_type" : "left"
        },
        "post_process_brc_merge" : false,
        "elementary_report" : {
            "generate_report": true,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_elm", "cols.school_category", "cols.school_level"],
                "grouping_agg_dict" : {
                    "cols.cwsn_tot": "sum", 
                    "cols.stdnts_in_school": "sum", 
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct" : "sum",
                    "cols.witht_acct" : "sum"
                }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.cwsn_tot": "sum", 
                    "cols.stdnts_in_school": "sum", 
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct": "sum",
                    "cols.witht_acct" : "sum"
                },
                "ranking_val_desc": "cols.perc_students_with_UDID",
                "num_col": "cols.udid_count",
                "den_col": "cols.cwsn_tot",
                "sort": "True",
                "ascending": "True"
            }
        },
        "secondary_report" : {
            "generate_report": false,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_sec", "cols.school_category", "cols.school_level"],
                "grouping_agg_dict" : {
                    "cols.cwsn_tot": "sum", 
                    "cols.stdnts_in_school": "sum", 
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct" : "sum",
                    "cols.witht_acct" : "sum"
                }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.cwsn_tot": "sum", 
                    "cols.stdnts_in_school": "sum", 
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct": "sum",
                    "cols.witht_acct" : "sum"
                },
                "ranking_val_desc": "cols.perc_students_with_UDID",
                "num_col": "cols.udid_count",
                "den_col": "cols.cwsn_tot",
                "sort": "True",
                "ascending": "True"
            },
            "subtotal_outlines_dict" : {
                "level_subtotal_cols_dict" : {"1" : "cols.deo_name_sec"},
                "agg_cols_func_dict" : {
                    "cols.fully_mapped": "sum",
                    "cols.part_mapped": "sum",
                    "cols.tot_schools": "sum",
                    "cols.deo_sec_rank": "mean"
                },
                "text_append_dict" : {"cols.deo_name_sec": "Total"}
            },
            "format_dict" : {
                "conditional_format" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format": {"type": "3_color_scale"}
                },
                "format_cells" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format" : {"num_format": "0.00%"}

            }
        }
        
      }
    },
    {
        "report_name": "health_screening_students",
        "report_code" : "H_STU",
        "report_category": "Enrolment",
        "report_desc": "Students' health screening report",
        "generate_report": true,
        "source_config" : {
            "source_file_name" : "Student-health-checkup-rpt.xlsx",
            "source_sheet_name" : "Report",
            "skip_rows" : 4
        },
        "pre_process_brc_merge": false,
        "brc_merge_config" : {
            "join_on" : ["cols.district_name", "cols.block_name", "cols.school_name", "cols.school_category", "cols.udise_col"],
            "merge_type" : "left"
        },
        "post_process_brc_merge" : false,
        "elementary_report" : {
            "generate_report": true,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_elm", "cols.school_category"],
                "grouping_agg_dict" : {
                    "cols.screened": "sum", 
                    "cols.total": "sum"
                }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.screened": "sum", 
                    "cols.total": "sum"
                },
                "ranking_val_desc": "cols.perc_screened",
                "num_col": "cols.screened",
                "den_col": "cols.total",
                "sort": "True",
                "ascending": "True"
            }
        },
        "secondary_report" : {
            "generate_report": false,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_sec", "cols.school_category"],
                "grouping_agg_dict" : {
                    "cols.screened": "sum", 
                    "cols.total": "sum"
                }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.screened": "sum", 
                    "cols.total": "sum"
                },
                "ranking_val_desc": "cols.perc_screened",
                "num_col": "cols.screened",
                "den_col": "cols.total",
                "sort": "True",
                "ascending": "True"
            },
            "subtotal_outlines_dict" : {
                "level_subtotal_cols_dict" : {"1" : "cols.deo_name_sec"},
                "agg_cols_func_dict" : {
                    "cols.fully_mapped": "sum",
                    "cols.part_mapped": "sum",
                    "cols.tot_schools": "sum",
                    "cols.deo_sec_rank": "mean"
                },
                "text_append_dict" : {"cols.deo_name_sec": "Total"}
            },
            "format_dict" : {
                "conditional_format" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format": {"type": "3_color_scale"}
                },
                "format_cells" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format" : {"num_format": "0.00%"}

            }
        }
        
      }
    },
    {
        "report_name": "students_ageing_in_common_pool",
        "report_code" : "CP",
        "report_category": "Enrolment",
        "report_desc": "Students in Common Pool for over 30 days - CEO Report",
        "generate_report": true,
        "source_config" : {
            "source_file_name" : "common_pool.xlsx",
            "source_sheet_name" : "Report",
            "skip_rows" : 4
        },
        "pre_process_brc_merge": true,
        "brc_merge_config" : {
            "join_on" : ["cols.district_name", "cols.block_name", "cols.school_name", "cols.school_category", "cols.udise_col"],
            "merge_type" : "left"
        },
        "post_process_brc_merge" : false,
        "elementary_report" : {
            "generate_report": true,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_elm", "cols.school_category", "cols.school_level"],
                "grouping_agg_dict" : {
                    "cols.cwsn_tot": "sum",
                    "cols.stdnts_in_school": "sum",
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct" : "sum",
                    "cols.witht_acct" : "sum"
                }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.cwsn_tot": "sum",
                    "cols.stdnts_in_school": "sum",
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct": "sum",
                    "cols.witht_acct" : "sum"
                },
                "ranking_val_desc": "cols.perc_students_with_UDID",
                "num_col": "cols.udid_count",
                "den_col": "cols.cwsn_tot",
                "sort": "True",
                "ascending": "True"
            }
        },
        "secondary_report" : {
            "generate_report": false,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_sec", "cols.school_category", "cols.school_level"],
                "grouping_agg_dict" : {
                    "cols.cwsn_tot": "sum",
                    "cols.stdnts_in_school": "sum",
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct" : "sum",
                    "cols.witht_acct" : "sum"
                }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.cwsn_tot": "sum",
                    "cols.stdnts_in_school": "sum",
                    "cols.stdnts_in_cp" : "sum",
                    "cols.nid_count" : "sum",
                    "cols.udid_count" : "sum",
                    "cols.with_acct": "sum",
                    "cols.witht_acct" : "sum"
                },
                "ranking_val_desc": "cols.perc_students_with_UDID",
                "num_col": "cols.udid_count",
                "den_col": "cols.cwsn_tot",
                "sort": "True",
                "ascending": "True"
            },
            "subtotal_outlines_dict" : {
                "level_subtotal_cols_dict" : {"1" : "cols.deo_name_sec"},
                "agg_cols_func_dict" : {
                    "cols.fully_mapped": "sum",
                    "cols.part_mapped": "sum",
                    "cols.tot_schools": "sum",
                    "cols.deo_sec_rank": "mean"
                },
                "text_append_dict" : {"cols.deo_name_sec": "Total"}
            },
            "format_dict" : {
                "conditional_format" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format": {"type": "3_color_scale"}
                },
                "format_cells" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format" : {"num_format": "0.00%"}

            }
        }

      }
    },
    {    
        "report_name": "health_screening_schools",
        "report_code" : "H_SCH",
        "report_category": "Enrolment",
        "report_desc": "Schools' health screening report",
        "generate_report": true,
        "source_config" : {
            "source_file_name" : "Student-health-checkup-rpt.xlsx",
            "source_sheet_name" : "Report",
            "skip_rows" : 4
        },
        "pre_process_brc_merge": false,
        "brc_merge_config" : {
            "join_on" : ["cols.district_name", "cols.block_name", "cols.school_name", "cols.school_category", "cols.udise_col"],
            "merge_type" : "left"
        },
        "post_process_brc_merge" : true,
        "elementary_report" : {
            "generate_report": true,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_elm", "cols.school_category"],
                "grouping_agg_dict" : {
                    "cols.total" : "count",
                    "cols.fully_comp": "sum"
                     }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                    "cols.total" : "sum", 
                    "cols.fully_comp": "sum"
                },
                "ranking_val_desc": "cols.perc_comp",
                "num_col": "cols.fully_comp",
                "den_col": "cols.total",
                "sort": "True",
                "ascending": "False"
            }
        },
        "secondary_report" : {
            "generate_report": true,
            "un_ranked_report_args" : {
                "custom_unranked_report": false,
                "grouping_cols" : ["cols.district_name", "cols.deo_name_sec", "cols.school_category"],
                "grouping_agg_dict" : {
                    "cols.total" : "count",
                    "cols.fully_comp": "sum"
                     }
            },
            "ranking_args": {
                "ranking_type" : "percent_ranking",
                "agg_dict": {
                     "cols.total" : "sum", 
                    "cols.fully_comp": "sum"
                },
                "ranking_val_desc": "cols.perc_comp",
                "num_col": "cols.fully_comp",
                "den_col": "cols.total",
                "sort": "True",
                "ascending": "False"
                },
            "subtotal_outlines_dict" : {
                "level_subtotal_cols_dict" : {"1" : "cols.deo_name_sec"},
                "agg_cols_func_dict" : {
                    "cols.fully_mapped": "sum",
                    "cols.part_mapped": "sum",
                    "cols.tot_schools": "sum",
                    "cols.deo_sec_rank": "mean"
                },
                "text_append_dict" : {"cols.deo_name_sec": "Total"}
            },
            "format_dict" : {
                "conditional_format" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format": {"type": "3_color_scale"}
                },
                "format_cells" : {
                    "columns" : ["cols.perc_fully_mapped"],
                    "format" : {"num_format": "0.00%"}

                }
            }
        }
    }

    ]
  }